import{r as a,j as e}from"./framer-motion-DexFYn3r.js";import{u as C,B as v}from"./index-o6bm3qdW.js";import{I as l}from"./input-DTFkI6V9.js";import{L as d}from"./label-Ctjrl553.js";import{C as b,a as N,c as y,d as S,b as E,e as R}from"./card-CGU5HWmE.js";function B(){const[i,c]=a.useState(""),[n,m]=a.useState(""),[u,p]=a.useState(""),[r,x]=a.useState(!1),[g,o]=a.useState(null),[h,f]=a.useState(null),{signUp:j}=C(),w=async s=>{if(s.preventDefault(),n!==u){o("Las contraseñas no coinciden");return}x(!0),o(null),f(null);try{const{error:t}=await j({email:i,password:n,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{username:i.split("@")[0]}}});if(t)throw t;f("¡Registro exitoso! Por favor, verifica tu email para confirmar tu cuenta."),c(""),m(""),p("")}catch(t){o(t.message||"Error al registrarse")}finally{x(!1)}};return e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-muted/40",children:e.jsxs(b,{className:"w-full max-w-sm",children:[e.jsxs(N,{children:[e.jsx(y,{className:"text-2xl",children:"Crear Cuenta"}),e.jsx(S,{children:"Ingresa tu email y contraseña para registrarte."})]}),e.jsxs("form",{onSubmit:w,children:[e.jsxs(E,{className:"grid gap-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",type:"email",placeholder:"tu@email.com",required:!0,value:i,onChange:s=>c(s.target.value),disabled:r})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"password",children:"Contraseña"}),e.jsx(l,{id:"password",type:"password",required:!0,value:n,onChange:s=>m(s.target.value),disabled:r})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(d,{htmlFor:"confirm-password",children:"Confirmar Contraseña"}),e.jsx(l,{id:"confirm-password",type:"password",required:!0,value:u,onChange:s=>p(s.target.value),disabled:r})]}),g&&e.jsx("p",{className:"text-sm text-destructive",children:g}),h&&e.jsx("p",{className:"text-sm text-green-600",children:h})]}),e.jsx(R,{children:e.jsx(v,{type:"submit",className:"w-full",disabled:r,children:r?"Registrando...":"Registrarse"})})]})]})})}export{B as default};
