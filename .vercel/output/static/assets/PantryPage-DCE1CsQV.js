const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PantryFiltersSection-DTBFIHgX.js","assets/framer-motion-DexFYn3r.js","assets/index-o6bm3qdW.js","assets/index-CZXe0mcL.css","assets/input-DTFkI6V9.js","assets/select-DBfGXf_6.js","assets/index-zM9kQwqA.js","assets/index-BMd2TyCU.js","assets/index-B3hHUwxe.js","assets/chevron-down-D8MEcRXF.js","assets/check-BwO51OGf.js","assets/chevron-up-DGjrEF3Z.js","assets/label-Ctjrl553.js","assets/PantrySelectionControls-CtqRih_5.js","assets/alert-dialog-CCeH0div.js","assets/PantryItemsView-DFJLVzW2.js","assets/EmptyState-Cb4z0I15.js","assets/UnifiedPantryInput-BR0u2Wr8.js","assets/accordion-BmcxSi9G.js","assets/useDebounce-Cu73n7FP.js","assets/pantryService-1OnSk01a.js","assets/plus-DaImIilD.js","assets/AddPantryItemForm-DFGxPCR9.js","assets/dialog-C1OzTA5U.js"])))=>i.map(i=>d[i]);
import{c as k,o as N,B as _,S as z,_ as r,b as I}from"./index-o6bm3qdW.js";import{r as e,j as t}from"./framer-motion-DexFYn3r.js";import{C as R,a as B,c as G,b as q}from"./card-CGU5HWmE.js";import{b as H,g as $,c as J}from"./pantryService-1OnSk01a.js";/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=k("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.320.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=k("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),U=e.lazy(()=>r(()=>import("./PantryFiltersSection-DTBFIHgX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),j=e.lazy(()=>r(()=>import("./PantrySelectionControls-CtqRih_5.js"),__vite__mapDeps([13,1,2,3,14]))),W=e.lazy(()=>r(()=>import("./PantryItemsView-DFJLVzW2.js"),__vite__mapDeps([15,2,1,3,16])));e.lazy(()=>r(()=>import("./UnifiedPantryInput-BR0u2Wr8.js"),__vite__mapDeps([17,2,1,3,4,12,5,6,7,8,9,10,11,18,19,20,21])));e.lazy(()=>r(()=>import("./AddPantryItemForm-DFGxPCR9.js"),__vite__mapDeps([22,1,2,3,4,12,5,6,7,8,9,10,11,23,19])));function le(){const i=N()==="desktop",[c,E]=e.useState([]),[u,w]=e.useState([]),[b,h]=e.useState(!0),[C,p]=e.useState(null),[Y,v]=e.useState(!1),[Z,P]=e.useState(null),[D,L]=e.useState(!1),[d,S]=e.useState(()=>i?"list":"grid"),[g,A]=e.useState({searchTerm:"",categoryId:"all",tags:""}),[M,ee]=e.useState("default"),[a,m]=e.useState(new Set),[l,n]=e.useState(!1),x=e.useCallback(async()=>{h(!0),p(null);try{const[s,y]=await Promise.all([H(),$()]);w(s),E(y)}catch(s){console.error("Error loading pantry data:",s),p("No se pudo cargar la despensa. Intenta de nuevo mÃ¡s tarde.")}finally{h(!1)}},[]);e.useEffect(()=>{x()},[x]);const O=e.useMemo(()=>[],[c,u,g,M]),T=e.useCallback(s=>{A(s)},[]),V=e.useCallback(s=>{P(s),v(!0)},[]),F=e.useCallback(s=>{m(y=>{const o=new Set(y);return o.has(s)?o.delete(s):o.add(s),o})},[]),f=async()=>{try{const s=Array.from(a);await J(s),I.success(`${s.length} items eliminados`),await x(),n(!1),m(new Set)}catch(s){console.error("Error deleting items:",s),I.error("Error al eliminar los items seleccionados")}};return t.jsx("div",{className:"container mx-auto py-8 px-4 md:px-6 lg:px-8 relative",children:t.jsxs(R,{children:[t.jsxs(B,{className:"pb-4",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 mb-4",children:[t.jsx(G,{className:"text-2xl font-bold",children:"Mi Despensa"}),t.jsx("div",{className:"flex items-center gap-2 flex-shrink-0 flex-wrap",children:t.jsx(e.Suspense,{fallback:null,children:l?t.jsx(j,{isSelectionMode:l,selectedItems:a,onEnterSelectionMode:()=>n(!0),onSelectAll:()=>{},onDeselectAll:()=>{},onCancelSelection:()=>{n(!1),m(new Set)},onDeleteSelected:f,totalVisibleItems:c.length}):t.jsxs(t.Fragment,{children:[i&&t.jsxs(t.Fragment,{children:[t.jsx(_,{variant:d==="list"?"secondary":"ghost",size:"sm",onClick:()=>S("list"),children:t.jsx(Q,{className:"h-4 w-4"})}),t.jsx(_,{variant:d==="grid"?"secondary":"ghost",size:"sm",onClick:()=>S("grid"),children:t.jsx(K,{className:"h-4 w-4"})})]}),t.jsx(j,{isSelectionMode:l,selectedItems:a,onEnterSelectionMode:()=>n(!0),onSelectAll:()=>{},onDeselectAll:()=>{},onCancelSelection:()=>{},onDeleteSelected:f,totalVisibleItems:c.length})]})})})]}),t.jsx(e.Suspense,{fallback:null,children:t.jsx(U,{categories:u,isDesktop:i,filters:g,onFilterChange:T,showFiltersSheet:D,setShowFiltersSheet:L})})]}),t.jsx(q,{children:t.jsx(e.Suspense,{fallback:t.jsx(z,{}),children:t.jsx(W,{viewMode:d,processedItems:O,isLoading:b,error:C,isSelectionMode:l,selectedItems:a,onSelectItem:F,onEditItem:V,onDeleteItem:()=>{}})})})]})})}export{le as PantryPage};
